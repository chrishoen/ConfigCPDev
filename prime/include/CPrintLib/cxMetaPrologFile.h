#pragma once
/*==============================================================================
printer eexecutive - gcode prolog json file writer.
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include <fstream>
#include <string>
#include "json.h"

namespace CX
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
// This class encalsulates a gcode prolog json file writer. It reads an input
// gcode file, extracts the prolog section at the beginning of the file,
// fills in a json object with the extracted prolog, and writes it to a
// json file.

class MetaPrologFile
{
public:
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Constants.

   static const std::streamsize cMaxStringSize = 200;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   MetaPrologFile();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Extract the prolog section at the beginning of a gcode file and write
   // it to a json file.
   void doWrite(
      const std::string& aGCodeFilePath,   // Input
      const std::string& aPrologFilePath,  // Output
      Json::Value&       aPrologRecord);   // Output
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace




